# 05. ì„±ëŠ¥ ìµœì í™”

---



## 1) ìƒ¤ë“œ(Shard)ì™€ ë ˆí”Œë¦¬ì¹´(Replica) ì„¤ì • ì „ëµ

### ì›ì¹™

- **ì˜¤ë²„ìƒ¤ë”© ê¸ˆì§€**: â€œì‘ì€ ì¸ë±ìŠ¤ì— ë§ì€ ìƒ¤ë“œâ€ëŠ” ì˜¤ë²„í—¤ë“œë§Œ í‚¤ì›€.
- **ìƒ¤ë“œë‹¹ ê¶Œì¥ í¬ê¸°**: ìš´ì˜ ê¸°ì¤€ ë³´í†µ **20~50GB/primary shard**ë¥¼ sweet spotìœ¼ë¡œ ë³¸ë‹¤.
- **ì´ˆê¸° ì„¤ê³„**: í•™ìŠµ/ê°œë°œì€ ë³´í†µ `1 primary`, `1 replica`ë¡œ ì‹œì‘.
- **ê²€ìƒ‰ íŠ¸ë˜í”½â†‘**ì´ë©´ Replicaë¥¼ ëŠ˜ë ¤ ì¡°íšŒ ë¶„ì‚°. **ìƒ‰ì¸ íŠ¸ë˜í”½â†‘**ì´ë©´ Primaryë¥¼ ë¶„í• (ì¸ë±ìŠ¤ ë¶„ë¦¬/ìƒ¤ë“œ ìˆ˜ ì¦ê°€) í˜¹ì€ íŒŒí‹°ì…”ë‹.

### ì‹¤ìŠµ ê¶Œì¥ (ê°œë°œ/ì†Œê·œëª¨)

```json
PUT /movies_v2/_settings
{
  "index": {
    "number_of_replicas": 1
  }
}
```

### ëŒ€ìš©ëŸ‰ ì‹ ê·œ ìƒ‰ì¸ ë°°ì¹˜ ì‹œ(ì´ˆê¸° ë¡œë“œ ìµœì í™”)

1. ì„ì‹œë¡œ **Replica=0**, **refresh_intervalâ†‘**
2. ëŒ€ëŸ‰ ìƒ‰ì¸ í›„ force merge(ì„ íƒ), ë§ˆì§€ë§‰ì— Replica ë³µêµ¬ & refresh ì •ìƒí™”

```json
PUT /movies_v2/_settings
{
  "index": {
    "number_of_replicas": 0,
    "refresh_interval": "60s"
  }
}
# ëŒ€ëŸ‰ ìƒ‰ì¸ ìˆ˜í–‰â€¦

# (ì„ íƒ) ì„¸ê·¸ë¨¼íŠ¸ ì¤„ì´ê¸° â€“ ê²€ìƒ‰ ì „ìš© read-heavy ì¸ë±ìŠ¤ì¼ ë•Œë§Œ
POST /movies_v2/_forcemerge?max_num_segments=1

PUT /movies_v2/_settings
{
  "index": {
    "number_of_replicas": 1,
    "refresh_interval": "1s"
  }
}
```

> ì‹¤ì‹œê°„ì„±ì´ ëœ ì¤‘ìš”í•˜ë©´ `refresh_interval`ì„ 5~30së¡œ ì˜¬ë ¤ ìƒ‰ì¸ TPS í–¥ìƒ.

## 2) ì¸ë±ìŠ¤ ì„±ëŠ¥ íŠœë‹(ìƒ‰ì¸Â·ì €ì¥ ìµœì í™”)

### ë§¤í•‘/ì„¤ì •

- ì •ë ¬Â·ì§‘ê³„ ëŒ€ìƒ í•„ë“œëŠ” `keyword`/numeric/date + `doc_values: true`(ê¸°ë³¸) ì‚¬ìš©.
- `text` í•„ë“œì— ì§‘ê³„/ì •ë ¬ì´ í•„ìš”í•˜ë©´ multi-fieldë¡œ `keyword` ì¶”ê°€.
- ë¶ˆí•„ìš”í•œ í•„ë“œ/ì„œë¸Œí•„ë“œ ì œê±°: ì €ì¥/ë©”ëª¨ë¦¬/ì„¸ê·¸ë¨¼íŠ¸ ê°ì†Œ.
- `_source`ëŠ” ì—…ë°ì´íŠ¸/ì¬ìƒ‰ì¸/í•˜ì´ë¼ì´íŠ¸ì— í•„ìš”. ì™„ì „ ì œê±°ëŠ” ë¹„ì¶”. ëŒ€ì‹  `_source`ì˜ **`includes/excludes`*ë¡œ ì €ì¥ëŸ‰ ì¤„ì´ê¸° ê³ ë ¤.
- ì••ì¶•: ì €ì¥ ê³µê°„ ì ˆì•½ â€“ CPU ë¹„ìš©ê³¼ íŠ¸ë ˆì´ë“œì˜¤í”„.

```json
PUT /movies_v2/_settings
{
  "index": {
    "codec": "best_compression"   // ì €ì¥ ê³µê°„ â†“ (ìƒ‰ì¸/CPUâ†‘)
  }
}
```

### ìƒ‰ì¸ ìµœì í™”

- **Bulk í¬ê¸°**: ì¼ë°˜ì ìœ¼ë¡œ **5~15MB / 1,000~5,000 docs** ë‹¨ìœ„ê°€ ì•ˆì •ì .
- **ë³‘ë ¬ì„±**: CPU/IO ê³ ë ¤í•´ ì›Œì»¤ ëŠ˜ë¦¬ë˜, shard ìˆ˜ë³´ë‹¤ ê³¼ë„í•˜ë©´ ì—­íš¨ê³¼.
- **ìë™ ìƒì„± í•„ë“œ ìµœì†Œí™”**: dynamic mapping ë‚¨ë°œ ê¸ˆì§€ â†’ ëª…ì‹œ ë§¤í•‘.
- **í•„ìš” ì‹œ Index Lifecycle(ILM)**: ì˜¤ë˜ëœ ë°ì´í„° rollover/ì••ì¶•/ì‚­ì œ.

## 3) ê²€ìƒ‰ ì„±ëŠ¥ ìµœì í™” ê¸°ë²•

### ì¿¼ë¦¬ ì„¤ê³„

- **Filter Context ì ê·¹ í™œìš©**: ìŠ¤ì½”ì–´ ê³„ì‚°ì´ ë¶ˆí•„ìš”í•œ ì¡°ê±´ì€ `filter`ë¡œ. ìºì‹œ íƒ‘ì¬ â†“CPU.
- **ì •í™• ì¼ì¹˜/ì§‘ê³„ëŠ” `keyword`** ì‚¬ìš©. `text`ì— `term` ê¸ˆì§€(ë¶„ì„ëœ í† í°ê³¼ ì•ˆ ë§ìŒ).
- **í˜ì´ì§•**: ëŒ€í˜ì´ì§€ëŠ” `from/size` ëŒ€ì‹  **`search_after` + ì •ë ¬ í‚¤** ì‚¬ìš©.
- **ì§‘ê³„ ì „ìš© ì¸ë±ìŠ¤ ì •ë ¬**: ìì£¼ ì •ë ¬í•˜ëŠ” í•„ë“œ ë¯¸ë¦¬ ì •ë ¬í•´ merge ë‹¨ê³„ ìµœì í™”.

```json
PUT /movies_v2/_settings
{
  "index": {
    "sort.field": "year",
    "sort.order": "desc"
  }
}
```

---

### ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

`index.sort.*`ëŠ” ì •ì (static) ì„¤ì •ì´ë¯€ë¡œ ì¸ë±ìŠ¤ê°€ ì—´ë¦°(open) ìƒíƒœì—ì„œëŠ” ë°”ê¿€ ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ í˜„ì¬ ìƒíƒœì—ì„œ ìœ„ `_settings`ë¥¼ ìš”ì²­í•˜ë©´ ì‹¤íŒ¨í•œë‹¤. `reopen=true`ë¡œ ì¬ì˜¤í”ˆì„ íŠ¸ë¦¬ê±°í•˜ê±°ë‚˜, ì¼ë°˜ì ìœ¼ë¡œ **close â†’ settings â†’ open** ìˆœì„œë¡œ ì‘ì—…í•´ì•¼ í•œë‹¤.

ê°€ì¥ ì´ìƒì ìœ¼ë¡œëŠ” ì• ì´ˆì— ì¸ë±ìŠ¤ ìƒì„± ì‹œì ì— `index.sort.*` ë¥¼ ì§€ì •í•˜ê³  ì‚¬ìš©í•˜ê±°ë‚˜, ì¬ìƒ‰ì¸í•˜ëŠ” ê²Œ ë‚«ë‹¤.

**ì˜¬ë°”ë¥¸ ì ˆì°¨**

```json
POST /movies_v2/_close
# close ì´í›„ì—ëŠ” ê²€ìƒ‰(search ë“±) ê²°ê³¼ê°€ ì•ˆ ë‚˜ì˜¨ë‹¤.

PUT /movies_v2/_settings
{
  "index": {
    "sort.field": "year",
    "sort.order": "desc"
  }
}

POST /movies_v2/_open
```

**ì¤‘ìš” ì£¼ì˜ì **

- `index.sort.*`ëŠ” **ì„¸ê·¸ë¨¼íŠ¸ ì‘ì„±/ë³‘í•© ì‹œì ë¶€í„°** ì ìš©ë©ë‹ˆë‹¤. ê¸°ì¡´ ì„¸ê·¸ë¨¼íŠ¸ ìˆœì„œëŠ” ê³§ë°”ë¡œ ë°”ë€Œì§€ ì•ŠìŠµë‹ˆë‹¤. ë¹ ë¥´ê²Œ ë°˜ì˜í•˜ê³  ì‹¶ë‹¤ë©´ **forcemerge**ë¡œ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ì¬ì‘ì„±í•˜ì„¸ìš”:

  ```json
  POST /movies_v2/_forcemerge?max_num_segments=1
  ```

â€¦ê°€ ì•„ë‹ˆì—ˆë‹¤. `close` ìš”ì²­ í›„ì—ë„ ì—¬ì „íˆ `index.sort` ì„¤ì •ì€ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ë‚´ìš©ì´ì—ˆë‹¤. ~~chatGPT êµ¬ë¼ìŸì´~~.

ì´ë¥¼ ìœ„í•´ì„œëŠ” **ìµœì´ˆ ì¸ë±ìŠ¤ ìƒì„± ì‹œì— ì„¤ì •í•´ì•¼** í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ í˜„ì¬ ìƒí™©ì—ì„œ ë°˜ì˜í•˜ê³ ì í•œë‹¤ë©´ ì‹ ê·œ ì¸ë±ìŠ¤ ex. `movie_v3`ë¥¼ ë§Œë“¤ì–´ì„œ `index.sort` ì ìš© í›„ ì¬ìƒ‰ì¸(reindex)ì„ í•´ì•¼í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì¼ë‹¨ ì—¬ê¸°ì„œëŠ” ë„˜ì–´ê°€ê² ë‹¤. (ì¬ìƒ‰ì¸ì€ ì•ì„  [04. ê³ ê¸‰ ê²€ìƒ‰ ì¿¼ë¦¬](04.%20ê³ ê¸‰%20ê²€ìƒ‰%20ì¿¼ë¦¬.md)ì—ì„œ ìˆ˜í–‰í•´ë´¤ë‹¤)

---

- **ë¶ˆí•„ìš”í•œ ì „ì²´ count ê¸ˆì§€**: `track_total_hits: false` ë˜ëŠ” íŠ¹ì • ìƒí•œ ì‚¬ìš©.
- **ì‘ë‹µ í¬ê¸° ì¤„ì´ê¸°**: `_source` í•„í„°ë§ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ì™€ ë””ì½”ë”© ë¹„ìš©â†“

```json
GET /movies_v2/_search
{
  "_source": ["title","year","rating"],    // í•„ìš”í•œ í•„ë“œë§Œ
  "track_total_hits": 10000,               // or false
  "query": { "match_all": {} },
  "size": 20
}
```

â†’ ì‘ë‹µ ê²°ê³¼

```json
 {
  "took": 2,
  "timed_out": false,
  "_shards": {
    "total": 1,
    "successful": 1,
    "skipped": 0,
    "failed": 0
  },
  "hits": {
    "total": {
      "value": 5,
      "relation": "eq"
    },
    "max_score": 1,
    "hits": [
      {
        "_index": "movies_v2",
        "_id": "1",
        "_score": 1,
        "_source": {
          "title": "ì–´ë²¤ì ¸ìŠ¤: ì—”ë“œê²Œì„",
          "year": 2019,
          "rating": 8.4
        }
      },
      {
        "_index": "movies_v2",
        "_id": "2",
        "_score": 1,
        "_source": {
          "title": "ì¸ì…‰ì…˜",
          "year": 2010,
          "rating": 8.8
        }
      },
      {
        "_index": "movies_v2",
        "_id": "3",
        "_score": 1,
        "_source": {
          "title": "ê¸°ìƒì¶©",
          "year": 2019,
          "rating": 8.6
        }
      },
      {
        "_index": "movies_v2",
        "_id": "4",
        "_score": 1,
        "_source": {
          "title": "ì¸í„°ìŠ¤í…”ë¼",
          "year": 2014,
          "rating": 8.7
        }
      },
      {
        "_index": "movies_v2",
        "_id": "5",
        "_score": 1,
        "_source": {
          "title": "ìŠ¤íŒŒì´ë”ë§¨: ë…¸ ì›¨ì´ í™ˆ",
          "year": 2021,
          "rating": 8.3
        }
      }
    ]
  }
}
```

### ë¼ìš°íŒ…/íŒŒí‹°ì…”ë‹ (ê³ ê¸‰)

- **í•«í‚¤/í…Œë„ŒíŠ¸ ë¶„ë¦¬** í•„ìš” ì‹œ **custom routing**ìœ¼ë¡œ íŠ¹ì • ìƒ¤ë“œì— ë¡œì»¬ë¼ì´ì¦ˆ.
- ì˜ˆ: ì‚¬ìš©ì ê³„ì •, ì¹´í…Œê³ ë¦¬(ì£¼ì˜: ì ë¦¼ ë°©ì§€ ì„¤ê³„ í•„ìˆ˜)

## 4) ìºì‹± ì „ëµ

### ì¢…ë¥˜

- **Query cache**(filter context ê²°ê³¼ ìºì‹œ): ë™ì¼ filter ì¬ì‚¬ìš© ì‹œ íš¨ê³¼â†‘
- **Request cache**(ì „ì²´ ì‘ë‹µ ìºì‹œ): ë™ì¼ ìš”ì²­(ì¿¼ë¦¬+ì •ë ¬+ì§‘ê³„)ì´ ë°˜ë³µë  ë•Œ.
- **OS Page Cache**: íŒŒì¼ ì‹œìŠ¤í…œ ë ˆë²¨ â€“ ìì£¼ ì½ëŠ” ì„¸ê·¸ë¨¼íŠ¸ê°€ ë©”ëª¨ë¦¬ì— ìƒì£¼.

### ì‹¤ì „ íŒ

- **filter**ë¥¼ ì¨ì•¼ Query cacheì— ì˜ ë“¤ì–´ê°.
- ì§‘ê³„ heavy ëŒ€ì‹œë³´ë“œëŠ” **request_cache** ìœ ë¦¬(ë°ì´í„° ë³€ë™ ì ì„ ë•Œ).

```json
PUT /movies_v2/_settings
{
  "index": {
    "request_cache": "true"
  }
}
```

- ìºì‹œ ë¯¸ìŠ¤/íˆíŠ¸ëŠ” workload/ë°ì´í„° ë³€ê²½ë¥ ì— í¬ê²Œ ì¢Œìš°ë¨ â†’ **í‚¤ë°”ë‚˜ ëŒ€ì‹œë³´ë“œì˜ ë°˜ë³µ ì¡°íšŒ** ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ì— íŠ¹íˆ ìœ íš¨.

---

### ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

ìœ„ ìš”ì²­ì€ ì‹¤íŒ¨í•œë‹¤. ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë³´ë©´ `unknown setting [index.request_cache] please checkâ€¦` ì´ë¼ê³  í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì•„ ëª…ë ¹ì–´ê°€ ì˜ëª»ëœ ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. ë‹¤ì‹œ í™•ì¸í•´ë³´ë‹ˆ ì„¤ì •ëª…ì€ `requests.cache.enable`ì´ë‹¤.

```json
PUT /movies_v2/_settings
{
  "index": {
    "requests.cache.enable": true
  }
}
```

---

## 5) Refresh Interval ì¡°ì •

- **ìƒ‰ì¸ TPS vs ê²€ìƒ‰ ìµœì‹ ì„±**ì˜ ì ˆì¶©:
  - ì‹¤ì‹œê°„ì„± ì¤‘ìš”: `1s` (ê¸°ë³¸)
  - ë°°ì¹˜ ìƒ‰ì¸: `30s`~`60s` (ë˜ëŠ” `1`ë¡œ ë¹„í™œì„±í™” í›„ ìˆ˜ë™ `POST /_refresh`)
- ì‹¤ìŠµ ì˜ˆ)

```json
PUT /movies_v2/_settings
{
  "index": { "refresh_interval": "10s" }
}
```

- ë¡œê·¸/ë°°ì¹˜ ì¸ë±ìŠ¤: ingestion ëë‚˜ë©´ `POST /movies_v2/_refresh` ëª…ì‹œ í˜¸ì¶œ.

## 6) ëª¨ë‹ˆí„°ë§ê³¼ ë¡œê¹…

### í•„ìˆ˜ ì§€í‘œ & í™•ì¸ API

- **í´ëŸ¬ìŠ¤í„° ìƒíƒœ**:

  `GET /_cluster/health?level=shards`

  `GET /_cat/nodes?v` / `GET /_cat/indices?v` / `GET /_cat/shards?v`

- **ì¸ë±ìŠ¤/ì„¸ê·¸ë¨¼íŠ¸/í•„ë“œë°ì´í„°**:

  `GET /movies_v2/_stats`

  `GET /movies_v2/_stats/fielddata?human=true`

  `GET /_cat/segments/movies_v2?v`

- **í•«ìŠ¤ë ˆë“œ(ë³‘ëª©)**:

  `GET /_nodes/hot_threads?threads=3&type=cpu`

- **í• ë‹¹ ì´ìŠˆ ì„¤ëª…**:

  `GET /_cluster/allocation/explain`

### ìŠ¬ë¡œìš° ë¡œê·¸(ê¼­ ì¼œë‘ê¸°)

- **ê²€ìƒ‰ ìŠ¬ë¡œìš° ë¡œê·¸**

```json
PUT /movies_v2/_settings
{
  "index.search.slowlog.threshold.query.warn":  "2s",
  "index.search.slowlog.threshold.query.info":  "1s",
  "index.search.slowlog.threshold.fetch.info":  "800ms",
  "index.search.slowlog.level":                 "info"
}
```

- **ìƒ‰ì¸ ìŠ¬ë¡œìš° ë¡œê·¸**

```json
PUT /movies_v2/_settings
{
  "index.indexing.slowlog.threshold.index.warn": "500ms",
  "index.indexing.slowlog.level":                "info"
}
```

> Kibana Stack Monitoringì—ì„œ ë…¸ë“œ/ì¸ë±ìŠ¤/ê²€ìƒ‰ ëŒ€ê¸°ì—´Â·GCÂ·I/O ë“±ë„ ì‹œê°í™”ë¡œ ì ê²€.

---

### ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë³´ë©´ `[index.search.slowlog.level] setting was deprecated â€¦` ë¼ê³  ë‚˜ì˜¨ë‹¤. ì„¤ì •ì´ ì œê±°ë˜ì—ˆê±°ë‚˜ ìœ„ì¹˜ê°€ ë°”ë€ ê²ƒìœ¼ë¡œ ë³´ì—¬ í™•ì¸í•´ë´¤ë‹¤.

ES ìµœì‹  ë²„ì „ë¶€í„° **ìŠ¬ë¡œìš° ë¡œê·¸ì˜ â€œë ˆë²¨(level)â€ì€ ì¸ë±ìŠ¤ ì„¤ì •ì´ ì•„ë‹Œ ë¡œê±°(logger) ì„¤ì •**ìœ¼ë¡œ ì´ë™í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ `index.search.slowlog.level` / `index.indexing.slowlog.level`ì€ ë” ì´ìƒ ì§€ì›ë˜ì§€ ì•Šì•„ìš”(ì‚­ì œë¨).

**ì˜¬ë°”ë¥¸ ì„¤ì • ë°©ì‹**

- **ì„ê³„ê°’(threshold)** ì€ ì—¬ì „íˆ **ì¸ë±ìŠ¤ ì„¤ì •**ìœ¼ë¡œ ì§€ì •
- **ë¡œê·¸ ë ˆë²¨** ì€ **í´ëŸ¬ìŠ¤í„° ë¡œê±°**ë¡œ ì§€ì •

(1) ì„ê³„ê°’ ì„¤ì •(ì¸ë±ìŠ¤ ì„¤ì •)

```json
PUT /movies_v2/_settings
{
  "index.search.slowlog.threshold.query.warn":  "2s",
  "index.search.slowlog.threshold.query.info":  "1s",
  "index.search.slowlog.threshold.fetch.info":  "800ms",

  "index.indexing.slowlog.threshold.index.warn": "500ms"
}
```

(2) ë¡œê±° ë ˆë²¨ ì„¤ì •(í´ëŸ¬ìŠ¤í„° ì„¤ì •)

```json
PUT /_cluster/settings
{
  "transient": {
    "logger.index.search.slowlog":   "INFO",
    "logger.index.indexing.slowlog": "INFO"
  }
}
```

**í™•ì¸ í¬ì¸íŠ¸**

- Kibana â†’ **Stack Monitoring** ë˜ëŠ” **ë¡œê·¸ ìˆ˜ì§‘ ê²½ë¡œ**(ì½˜í…Œì´ë„ˆ stdout, íŒŒì¼ ë¡œê·¸ ë“±)ì— ìŠ¬ë¡œìš° ë¡œê·¸ê°€ ì°íˆëŠ”ì§€ í™•ì¸
- ë„ˆë¬´ ë‚®ì€ ì„ê³„ê°’ì€ ë¡œê·¸ í­ì¦ì„ ë¶€ë¦…ë‹ˆë‹¤. ìš´ì˜ì€ `info` ìˆ˜ì¤€ + í•©ë¦¬ì  ê¸°ì¤€(ìˆ˜ë°± ms~ìˆ˜ ì´ˆ)ì„ ì¶”ì²œ

## 7) Aggregation/ì •ë ¬ ê³ ê¸‰ ìµœì í™” ìš”ì•½

- ì§‘ê³„/ì •ë ¬ìš© í•„ë“œëŠ” **`keyword/numeric/date + doc_values`** (ê¸°ë³¸ê°’ ìœ ì§€).
- **`eager_global_ordinals: true`**: ë‚®ì€ ì§€ì—°ì„ ìœ„í•´ keyword ì§‘ê³„/ì •ë ¬ ì´ˆê¸°ì— ì˜¤ë²„í—¤ë“œë¥¼ í•œ ë²ˆì—.

```json
PUT /movies_v2/_mapping
{
  "properties": {
    "genres": { "type": "keyword", "eager_global_ordinals": true }
  }
}
```

- **runtime fields ë‚¨ìš© ê¸ˆì§€**: ìœ ì—°í•˜ì§€ë§Œ CPUâ†‘; ìì£¼ ì“°ë©´ ë§¤í•‘ í•„ë“œë¡œ ìŠ¹ê²©.
- **ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜ ì§‘ê³„/ì •ë ¬ ìµœì†Œí™”**: PainlessëŠ” ëŠë¦¼ â†’ ì‚¬ì „ì •ê·œí™”/ì „ì²˜ë¦¬ ê³ ë ¤.

## 8) ì‹¤ì „ ì ê²€ ì‹œë‚˜ë¦¬ì˜¤(ì²´í¬ë¦¬ìŠ¤íŠ¸)

1. **ì˜¤ë²„ìƒ¤ë”©?** â†’ ìƒ¤ë“œ ìˆ˜/í¬ê¸°/ì„¸ê·¸ë¨¼íŠ¸ í™•ì¸
2. **ìƒ‰ì¸ íŠœë‹** â†’ bulk í¬ê¸°/ë™ì‹œì„±/refresh/replica ì¡°ì •
3. **ì¿¼ë¦¬ êµ¬ì¡°** â†’ filter context, search_after, _source í•„í„°ë§ ì ìš©
4. **ìºì‹œ íˆíŠ¸** â†’ ë™ì¼ íŒ¨í„´ ì¬ì¡°íšŒ ì‹œ request/query cache í™œìš©
5. **ìŠ¬ë¡œìš° ë¡œê·¸** â†’ ë³‘ëª© ì¿¼ë¦¬ ì‹ë³„ â†’ explain/profileë¡œ ì¬ì‘ì„±
6. **ë¦¬ì†ŒìŠ¤ ë³‘ëª©** â†’ hot_threads, GC, I/O ëª¨ë‹ˆí„°ë§
7. **ì¥ê¸° ìš´ì˜** â†’ ILMë¡œ rollover + forcemerge(ì½ê¸° ì „ìš©) + snapshot
